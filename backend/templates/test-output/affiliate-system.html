<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Affiliate System - Product Delivery</title>
</head>
<body style="font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif; max-width: 600px; margin: 0 auto; padding: 20px; color: #333;">

  <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 30px 20px; text-align: center; border-radius: 8px 8px 0 0;">
    <h1 style="margin: 0; font-size: 28px; font-weight: 600;">Welcome to Affiliate System!</h1>
    <p style="margin: 10px 0 0 0; font-size: 16px;">White-label Affiliate Platform</p>
  </div>

  <div style="padding: 30px 20px;">

    <p style="font-size: 16px; line-height: 1.6;">
      Hi John Doe,
    </p>

    <p style="font-size: 16px; line-height: 1.6;">
      Thank you for purchasing the <strong>Affiliate System</strong>! Your white-label affiliate platform
      is ready to deploy. Build your own affiliate network with custom commission tiers and tracking.
    </p>

    <div style="background: #d4edda; border-left: 4px solid #28a745; padding: 15px; margin: 15px 0; border-radius: 4px;">
      <strong>Order Confirmed:</strong> ORDER-2025-001234<br>
      <strong>Purchase Date:</strong> December 21, 2025<br>
      <strong>Product:</strong> Affiliate System - White-label Platform<br>
      <strong>Price:</strong> $599
    </div>

    <h2 style="color: #667eea; font-size: 22px; margin-top: 30px; margin-bottom: 15px; border-bottom: 2px solid #667eea; padding-bottom: 8px;">üöÄ Deployment Guide</h2>

    <h3 style="color: #764ba2; font-size: 18px; margin-top: 25px; margin-bottom: 12px;">Step 1: Clone Repository</h3>
    <div style="background: #f8f9fa; padding: 20px; margin: 20px 0; border-radius: 8px; border-left: 4px solid #667eea;">
      <p>
        <a href="https://github.com/Ai-Solutions-Store/affiliate-system" style="display: inline-block; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 12px 30px; text-decoration: none; border-radius: 6px; font-weight: 600; margin: 15px 0;">
          Open GitHub Repository
        </a>
      </p>
      <pre style="background: #1e1e1e; color: #d4d4d4; padding: 15px; border-radius: 4px; font-family: "Courier New", monospace; font-size: 13px; overflow-x: auto; display: block; margin: 10px 0;">git clone https://github.com/Ai-Solutions-Store/affiliate-system.git
cd affiliate-system
npm install</pre>
    </div>

    <h3 style="color: #764ba2; font-size: 18px; margin-top: 25px; margin-bottom: 12px;">Step 2: Database Setup (PostgreSQL)</h3>
    <div style="background: #f8f9fa; padding: 20px; margin: 20px 0; border-radius: 8px; border-left: 4px solid #667eea;">
      <p><strong>Install PostgreSQL:</strong></p>
      <ul style="margin: 10px 0; padding-left: 20px;">
        <li style="margin: 8px 0; line-height: 1.6;"><strong>Local:</strong> <a href="https://www.postgresql.org/download/" style="color: #667eea; text-decoration: none; font-weight: 500;">Download PostgreSQL</a></li>
        <li style="margin: 8px 0; line-height: 1.6;"><strong>Cloud:</strong> Use AWS RDS, Supabase, or Neon</li>
      </ul>

      <p><strong>Create database:</strong></p>
      <pre style="background: #1e1e1e; color: #d4d4d4; padding: 15px; border-radius: 4px; font-family: "Courier New", monospace; font-size: 13px; overflow-x: auto; display: block; margin: 10px 0;">createdb affiliate_system
# Or via psql:
psql -U postgres
CREATE DATABASE affiliate_system;</pre>

      <p><strong>Configure connection:</strong></p>
      <pre style="background: #1e1e1e; color: #d4d4d4; padding: 15px; border-radius: 4px; font-family: "Courier New", monospace; font-size: 13px; overflow-x: auto; display: block; margin: 10px 0;"># .env
DATABASE_URL=postgresql://username:password@localhost:5432/affiliate_system

# For cloud (example):
# DATABASE_URL=postgresql://user:pass@aws-rds-endpoint:5432/dbname</pre>

      <p><strong>Run migrations:</strong></p>
      <pre style="background: #1e1e1e; color: #d4d4d4; padding: 15px; border-radius: 4px; font-family: "Courier New", monospace; font-size: 13px; overflow-x: auto; display: block; margin: 10px 0;">npm run migrate</pre>
    </div>

    <h3 style="color: #764ba2; font-size: 18px; margin-top: 25px; margin-bottom: 12px;">Step 3: Configure Commission Tiers</h3>
    <div style="background: #f8f9fa; padding: 20px; margin: 20px 0; border-radius: 8px; border-left: 4px solid #667eea;">
      <p>Edit <code style="background: #f0f0f0; color: #c7254e; padding: 2px 6px; border-radius: 3px; font-family: "Courier New", monospace; font-size: 12px;">config/commission-tiers.json</code>:</p>
      <pre style="background: #1e1e1e; color: #d4d4d4; padding: 15px; border-radius: 4px; font-family: "Courier New", monospace; font-size: 13px; overflow-x: auto; display: block; margin: 10px 0;">{
  "tiers": [
    {
      "name": "Bronze",
      "commission": 0.10,
      "minSales": 0,
      "color": "#CD7F32"
    },
    {
      "name": "Silver",
      "commission": 0.15,
      "minSales": 10,
      "color": "#C0C0C0"
    },
    {
      "name": "Gold",
      "commission": 0.20,
      "minSales": 50,
      "color": "#FFD700"
    },
    {
      "name": "Platinum",
      "commission": 0.25,
      "minSales": 100,
      "color": "#E5E4E2"
    }
  ],
  "cookieDuration": 30,
  "payoutThreshold": 50,
  "payoutSchedule": "monthly"
}</pre>
    </div>

    <h3 style="color: #764ba2; font-size: 18px; margin-top: 25px; margin-bottom: 12px;">Step 4: Payment Integration</h3>
    <div style="background: #f8f9fa; padding: 20px; margin: 20px 0; border-radius: 8px; border-left: 4px solid #667eea;">
      <p>Create <code style="background: #f0f0f0; color: #c7254e; padding: 2px 6px; border-radius: 3px; font-family: "Courier New", monospace; font-size: 12px;">.env</code> file:</p>
      <pre style="background: #1e1e1e; color: #d4d4d4; padding: 15px; border-radius: 4px; font-family: "Courier New", monospace; font-size: 13px; overflow-x: auto; display: block; margin: 10px 0;"># Database
DATABASE_URL=postgresql://user:pass@host:5432/affiliate_system

# Payment Processors
STRIPE_SECRET_KEY=sk_test_your_stripe_key
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret
PAYPAL_CLIENT_ID=your_paypal_client_id
PAYPAL_CLIENT_SECRET=your_paypal_secret

# Payout Settings
PAYOUT_METHOD=stripe  # or 'paypal'
PAYOUT_SCHEDULE=monthly  # or 'weekly', 'biweekly'
MIN_PAYOUT=50.00

# App Settings
PORT=3001
NODE_ENV=production
JWT_SECRET=your_secure_jwt_secret_here
ADMIN_EMAIL=john.doe@example.com

# Email Service (for notifications)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your_email@gmail.com
SMTP_PASS=your_app_password</pre>
    </div>

    <h3 style="color: #764ba2; font-size: 18px; margin-top: 25px; margin-bottom: 12px;">Step 5: Stripe Connect Setup</h3>
    <div style="background: #f8f9fa; padding: 20px; margin: 20px 0; border-radius: 8px; border-left: 4px solid #667eea;">
      <p><strong>For affiliate payouts via Stripe:</strong></p>
      <ol style="margin: 10px 0; padding-left: 20px;">
        <li style="margin: 8px 0; line-height: 1.6;">Go to <a href="https://dashboard.stripe.com/" style="color: #667eea; text-decoration: none; font-weight: 500;">Stripe Dashboard</a></li>
        <li style="margin: 8px 0; line-height: 1.6;">Enable Stripe Connect</li>
        <li style="margin: 8px 0; line-height: 1.6;">Set up platform settings</li>
        <li style="margin: 8px 0; line-height: 1.6;">Configure payout schedule</li>
        <li style="margin: 8px 0; line-height: 1.6;">Add webhook endpoint: <code style="background: #f0f0f0; color: #c7254e; padding: 2px 6px; border-radius: 3px; font-family: "Courier New", monospace; font-size: 12px;">https://yourdomain.com/webhooks/stripe</code></li>
      </ol>

      <div style="background: #fff3cd; border-left: 4px solid #ffc107; padding: 15px; margin: 15px 0; border-radius: 4px;">
        <strong>‚ö†Ô∏è Webhook Events to Listen For:</strong>
        <ul style="margin: 10px 0; padding-left: 20px;">
          <li style="margin: 8px 0; line-height: 1.6;"><code style="background: #f0f0f0; color: #c7254e; padding: 2px 6px; border-radius: 3px; font-family: "Courier New", monospace; font-size: 12px;">payment_intent.succeeded</code></li>
          <li style="margin: 8px 0; line-height: 1.6;"><code style="background: #f0f0f0; color: #c7254e; padding: 2px 6px; border-radius: 3px; font-family: "Courier New", monospace; font-size: 12px;">charge.refunded</code></li>
          <li style="margin: 8px 0; line-height: 1.6;"><code style="background: #f0f0f0; color: #c7254e; padding: 2px 6px; border-radius: 3px; font-family: "Courier New", monospace; font-size: 12px;">account.updated</code></li>
        </ul>
      </div>
    </div>

    <h3 style="color: #764ba2; font-size: 18px; margin-top: 25px; margin-bottom: 12px;">Step 6: Tracking Setup</h3>
    <div style="background: #f8f9fa; padding: 20px; margin: 20px 0; border-radius: 8px; border-left: 4px solid #667eea;">
      <p><strong>Generate tracking code for your site:</strong></p>
      <pre style="background: #1e1e1e; color: #d4d4d4; padding: 15px; border-radius: 4px; font-family: "Courier New", monospace; font-size: 13px; overflow-x: auto; display: block; margin: 10px 0;">npm run generate-tracking-code</pre>

      <p><strong>Add to your website:</strong></p>
      <pre style="background: #1e1e1e; color: #d4d4d4; padding: 15px; border-radius: 4px; font-family: "Courier New", monospace; font-size: 13px; overflow-x: auto; display: block; margin: 10px 0;">&lt;!-- Place before closing &lt;/body&gt; tag --&gt;
&lt;script src="https://yourdomain.com/tracking.js"&gt;&lt;/script&gt;
&lt;script&gt;
  AffiliateTracker.init({
    domain: 'yourdomain.com',
    cookieDuration: 30
  });
&lt;/script&gt;</pre>

      <p><strong>Track conversions:</strong></p>
      <pre style="background: #1e1e1e; color: #d4d4d4; padding: 15px; border-radius: 4px; font-family: "Courier New", monospace; font-size: 13px; overflow-x: auto; display: block; margin: 10px 0;">&lt;!-- On purchase confirmation page --&gt;
&lt;script&gt;
  AffiliateTracker.conversion({
    orderId: '12345',
    amount: 99.99,
    currency: 'USD'
  });
&lt;/script&gt;</pre>
    </div>

    <h3 style="color: #764ba2; font-size: 18px; margin-top: 25px; margin-bottom: 12px;">Step 7: Launch Platform</h3>
    <div style="background: #f8f9fa; padding: 20px; margin: 20px 0; border-radius: 8px; border-left: 4px solid #667eea;">
      <p><strong>Development:</strong></p>
      <pre style="background: #1e1e1e; color: #d4d4d4; padding: 15px; border-radius: 4px; font-family: "Courier New", monospace; font-size: 13px; overflow-x: auto; display: block; margin: 10px 0;">npm run dev</pre>

      <p><strong>Production:</strong></p>
      <pre style="background: #1e1e1e; color: #d4d4d4; padding: 15px; border-radius: 4px; font-family: "Courier New", monospace; font-size: 13px; overflow-x: auto; display: block; margin: 10px 0;">npm run build
npm start
# Or with PM2:
pm2 start ecosystem.config.js
pm2 save</pre>

      <p><strong>Access admin panel:</strong></p>
      <pre style="background: #1e1e1e; color: #d4d4d4; padding: 15px; border-radius: 4px; font-family: "Courier New", monospace; font-size: 13px; overflow-x: auto; display: block; margin: 10px 0;"># http://localhost:3001/admin
# Default: admin@yourdomain.com / changeme123
# CHANGE PASSWORD IMMEDIATELY!</pre>
    </div>

    <h2 style="color: #667eea; font-size: 22px; margin-top: 30px; margin-bottom: 15px; border-bottom: 2px solid #667eea; padding-bottom: 8px;">üí∞ Commission Structure</h2>

    <div style="background: #f8f9fa; padding: 20px; margin: 20px 0; border-radius: 8px; border-left: 4px solid #667eea;">
      <ul style="margin: 10px 0; padding-left: 20px;">
        <li style="margin: 8px 0; line-height: 1.6;"><strong>Cookie Tracking:</strong> 30-day attribution window</li>
        <li style="margin: 8px 0; line-height: 1.6;"><strong>Auto-Tiering:</strong> Affiliates auto-upgrade based on sales</li>
        <li style="margin: 8px 0; line-height: 1.6;"><strong>Recurring Commissions:</strong> Support for subscription products</li>
        <li style="margin: 8px 0; line-height: 1.6;"><strong>Performance Bonuses:</strong> Configure milestone rewards</li>
        <li style="margin: 8px 0; line-height: 1.6;"><strong>Multi-Currency:</strong> Support for global affiliates</li>
      </ul>
    </div>

    <h2 style="color: #667eea; font-size: 22px; margin-top: 30px; margin-bottom: 15px; border-bottom: 2px solid #667eea; padding-bottom: 8px;">üìä Dashboard Features</h2>

    <div style="background: #f8f9fa; padding: 20px; margin: 20px 0; border-radius: 8px; border-left: 4px solid #667eea;">
      <p><strong>Admin Dashboard:</strong></p>
      <ul style="margin: 10px 0; padding-left: 20px;">
        <li style="margin: 8px 0; line-height: 1.6;">Affiliate management (approve, suspend, delete)</li>
        <li style="margin: 8px 0; line-height: 1.6;">Commission tracking and payouts</li>
        <li style="margin: 8px 0; line-height: 1.6;">Analytics and reporting</li>
        <li style="margin: 8px 0; line-height: 1.6;">Fraud detection alerts</li>
      </ul>

      <p><strong>Affiliate Dashboard:</strong></p>
      <ul style="margin: 10px 0; padding-left: 20px;">
        <li style="margin: 8px 0; line-height: 1.6;">Real-time earnings tracker</li>
        <li style="margin: 8px 0; line-height: 1.6;">Custom referral links</li>
        <li style="margin: 8px 0; line-height: 1.6;">Marketing materials download</li>
        <li style="margin: 8px 0; line-height: 1.6;">Payout history and requests</li>
      </ul>
    </div>

    <h2 style="color: #667eea; font-size: 22px; margin-top: 30px; margin-bottom: 15px; border-bottom: 2px solid #667eea; padding-bottom: 8px;">üé® White-label Customization</h2>

    <div style="background: #f8f9fa; padding: 20px; margin: 20px 0; border-radius: 8px; border-left: 4px solid #667eea;">
      <p>Edit <code style="background: #f0f0f0; color: #c7254e; padding: 2px 6px; border-radius: 3px; font-family: "Courier New", monospace; font-size: 12px;">config/branding.json</code>:</p>
      <pre style="background: #1e1e1e; color: #d4d4d4; padding: 15px; border-radius: 4px; font-family: "Courier New", monospace; font-size: 13px; overflow-x: auto; display: block; margin: 10px 0;">{
  "brandName": "Your Brand",
  "logo": "/assets/logo.png",
  "primaryColor": "#667eea",
  "secondaryColor": "#764ba2",
  "domain": "affiliates.yourdomain.com",
  "supportEmail": "affiliates@yourdomain.com",
  "termsUrl": "https://yourdomain.com/terms",
  "privacyUrl": "https://yourdomain.com/privacy"
}</pre>

      <p><strong>Custom domain setup:</strong></p>
      <pre style="background: #1e1e1e; color: #d4d4d4; padding: 15px; border-radius: 4px; font-family: "Courier New", monospace; font-size: 13px; overflow-x: auto; display: block; margin: 10px 0;"># Point DNS to your server:
# A Record: affiliates.yourdomain.com ‚Üí your_server_ip

# Configure SSL:
sudo certbot --nginx -d affiliates.yourdomain.com</pre>
    </div>

    <h2 style="color: #667eea; font-size: 22px; margin-top: 30px; margin-bottom: 15px; border-bottom: 2px solid #667eea; padding-bottom: 8px;">üîê Security Features</h2>

    <div style="background: #f8f9fa; padding: 20px; margin: 20px 0; border-radius: 8px; border-left: 4px solid #667eea;">
      <ul style="margin: 10px 0; padding-left: 20px;">
        <li style="margin: 8px 0; line-height: 1.6;"><strong>Fraud Detection:</strong> Monitors suspicious click patterns</li>
        <li style="margin: 8px 0; line-height: 1.6;"><strong>IP Tracking:</strong> Prevents self-referrals</li>
        <li style="margin: 8px 0; line-height: 1.6;"><strong>Rate Limiting:</strong> Protects against abuse</li>
        <li style="margin: 8px 0; line-height: 1.6;"><strong>2FA Support:</strong> Optional for affiliates</li>
        <li style="margin: 8px 0; line-height: 1.6;"><strong>Audit Logs:</strong> Track all admin actions</li>
      </ul>
    </div>

    <h2 style="color: #667eea; font-size: 22px; margin-top: 30px; margin-bottom: 15px; border-bottom: 2px solid #667eea; padding-bottom: 8px;">üìß Email Notifications</h2>

    <div style="background: #f8f9fa; padding: 20px; margin: 20px 0; border-radius: 8px; border-left: 4px solid #667eea;">
      <p><strong>Automated emails for:</strong></p>
      <ul style="margin: 10px 0; padding-left: 20px;">
        <li style="margin: 8px 0; line-height: 1.6;">Affiliate application (approval/rejection)</li>
        <li style="margin: 8px 0; line-height: 1.6;">First commission earned</li>
        <li style="margin: 8px 0; line-height: 1.6;">Tier upgrades</li>
        <li style="margin: 8px 0; line-height: 1.6;">Payout processed</li>
        <li style="margin: 8px 0; line-height: 1.6;">Monthly performance reports</li>
      </ul>

      <p>Customize templates in <code style="background: #f0f0f0; color: #c7254e; padding: 2px 6px; border-radius: 3px; font-family: "Courier New", monospace; font-size: 12px;">templates/emails/</code></p>
    </div>

    <h2 style="color: #667eea; font-size: 22px; margin-top: 30px; margin-bottom: 15px; border-bottom: 2px solid #667eea; padding-bottom: 8px;">üîß Advanced Configuration</h2>

    <div style="background: #f8f9fa; padding: 20px; margin: 20px 0; border-radius: 8px; border-left: 4px solid #667eea;">
      <p><strong>Multi-tier commissions:</strong></p>
      <pre style="background: #1e1e1e; color: #d4d4d4; padding: 15px; border-radius: 4px; font-family: "Courier New", monospace; font-size: 13px; overflow-x: auto; display: block; margin: 10px 0;">{
  "enableMLM": false,  // Multi-level marketing
  "maxLevels": 2,
  "level1Commission": 0.15,
  "level2Commission": 0.05
}</pre>

      <p><strong>Product-specific commissions:</strong></p>
      <pre style="background: #1e1e1e; color: #d4d4d4; padding: 15px; border-radius: 4px; font-family: "Courier New", monospace; font-size: 13px; overflow-x: auto; display: block; margin: 10px 0;">{
  "products": [
    { "id": "prod_1", "commission": 0.20 },
    { "id": "prod_2", "commission": 0.15 }
  ]
}</pre>
    </div>

    <h2 style="color: #667eea; font-size: 22px; margin-top: 30px; margin-bottom: 15px; border-bottom: 2px solid #667eea; padding-bottom: 8px;">üìö Documentation</h2>

    <div style="background: #f8f9fa; padding: 20px; margin: 20px 0; border-radius: 8px; border-left: 4px solid #667eea;">
      <ul style="margin: 10px 0; padding-left: 20px;">
        <li style="margin: 8px 0; line-height: 1.6;"><strong>Setup Guide:</strong> <code style="background: #f0f0f0; color: #c7254e; padding: 2px 6px; border-radius: 3px; font-family: "Courier New", monospace; font-size: 12px;">README.md</code></li>
        <li style="margin: 8px 0; line-height: 1.6;"><strong>API Docs:</strong> <code style="background: #f0f0f0; color: #c7254e; padding: 2px 6px; border-radius: 3px; font-family: "Courier New", monospace; font-size: 12px;">docs/API.md</code></li>
        <li style="margin: 8px 0; line-height: 1.6;"><strong>Database Schema:</strong> <code style="background: #f0f0f0; color: #c7254e; padding: 2px 6px; border-radius: 3px; font-family: "Courier New", monospace; font-size: 12px;">docs/SCHEMA.md</code></li>
        <li style="margin: 8px 0; line-height: 1.6;"><strong>Customization:</strong> <code style="background: #f0f0f0; color: #c7254e; padding: 2px 6px; border-radius: 3px; font-family: "Courier New", monospace; font-size: 12px;">docs/CUSTOMIZATION.md</code></li>
        <li style="margin: 8px 0; line-height: 1.6;"><strong>Support:</strong> <a href="mailto:support@ai-solutions.store" style="color: #667eea; text-decoration: none; font-weight: 500;">support@ai-solutions.store</a></li>
      </ul>
    </div>

    <div style="text-align: center; margin: 40px 0;">
      <p style="font-size: 18px; font-weight: 600; color: #667eea;">
        Build your affiliate empire today!
      </p>
      <p>
        <a href="mailto:support@ai-solutions.store" style="display: inline-block; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 12px 30px; text-decoration: none; border-radius: 6px; font-weight: 600; margin: 15px 0;">Get Support</a>
      </p>
    </div>

  </div>

  <div style="text-align: center; padding: 30px 20px; color: #666; font-size: 14px; border-top: 1px solid #ddd; margin-top: 40px;">
    <p><strong>AI Solutions Store</strong></p>
    <p>White-label affiliate platform for your business</p>
    <p style="font-size: 12px; margin-top: 15px;">
      Order ID: ORDER-2025-001234 | john.doe@example.com
    </p>
  </div>

</body>
</html>